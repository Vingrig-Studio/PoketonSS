# Poketon Sticker Shot

В этом репозитории хранится рабочий прототип браузерной игры «Poketon Sticker Shot». Ниже собраны основные параметры текущей игровой логики, чтобы было удобно ориентироваться в поведение всех сущностей.

## Игрок

- **Начальные жизни:** 3 (отображаются по центру верхней панели).
- **Начальная скорость пули:** 400 px/сек.
- **Начальный урон пули:** 1.5 единицы.
- **Интервал стрельбы:** 1.0 сек. Каждые 5 апгрейдов скорости интервал сокращается на 0.01 сек (минимум 0.1 сек). Цена апгрейда скорости растёт на +1 PXP, скорость пули увеличивается на +10 px/сек за апгрейд.
- **Апгрейд урона:** стартовая цена 1 PXP, каждый апгрейд +0.2 к урону и +1 к цене.
- **Звук нот:** при переходе на дорожку проигрывается нота Do–Si (слева направо).

## Генерация врагов

- **Интервал волн:** каждая новая волна начинается каждые 5 секунд.
- **Количество врагов в волне:** \(\text{base} = 1 + (N - 1)\), где *N* — номер волны. Дополнительно применяется множитель \(1.2^{M}\), где *M* — число полных минут с начала игры (каждая новая минута увеличивает генерацию на 20%). Результат округляется вверх до целого.
- **Интервал внутри волны:** первый враг появляется сразу, остальные — через 3.0 сек + 0.1 сек × (N - 1).
- **Скорость перемещения врагов:** 100 px/сек по вертикали.

## Здоровье врагов

- **Базовое здоровье:** 1.0 единица на старте.
- **Рост здоровья:** каждую полную секунду базовое здоровье увеличивается на +0.1.
- **Штраф при спавне:** для каждого врага случайно вычитается 0–30% от текущего базового здоровья.

## Лут (PXP)

- **Базовый лут за врага:** 0.5 PXP.
- **Рост лута:** каждая полная секунда добавляет +0.05 PXP. Формула: `loot = 0.5 + 0.05 × seconds` (округляется до двух знаков).
- **Бочка:** +10 PXP за попадание и дополнительный лут с каждого врага (см. ниже).
- **Ящик:** +5 PXP за попадание.
- **Босс:** удваивает текущий баланс (и показывает «×2» над местом смерти).

## Особые объекты

### Бочка (fair.tgs)
- **Условия появления:** в интервале 5–30 секунды игры при спавне врага с базовым шансом 1/30. Шанс увеличивается ×2, если у игрока 2 жизни, и ×3, если ≤1 жизни.
- **Поведение:** движется как враг, исчезает при достижении пунктира.
- **Попадание пули:** даёт +10 PXP, уничтожает всех текущих врагов (каждый дропает свой лут), активирует режим массовой стрельбы на 5 секунд (все дорожки + игрок стреляют пулями скорости 600 px/сек, урон = текущему урону игрока).

### Ящик (game.tgs)
- **Условия появления:** каждые 20 секунд с вероятностью 1/3.
- **Попадание пули:** +5 PXP, активирует тот же режим массовой стрельбы, что и бочка (на 5 секунд).

### Пчела (bee.tgs)
- **Условия появления:** каждые 10 секунд с вероятностью 1/4.
- **Попадание пули:** включает «быструю стрельбу» игрока с интервалом 0.05 сек на протяжении 8 секунд (скорость пули = текущей, урон = текущему).

### Сердце (h.tgs)
- **Условия появления:** при спавне врага с шансом 1/30.
- **Попадание пули:** добавляет +1 жизнь игроку и показывает «+1❤» над объектом.

### Босс (boss1.tgs)
- **Условия появления:** каждая полная минута (1:00, 2:00, ...).
- **Здоровье:** 10 × 1.3^M, где M — количество полных минут с начала игры.
- **Попадание пули:** босс получает урон как обычный враг. При достижении пунктира вызывает Game Over.
- **Смерть:** удваивает текущий баланс и показывает «×2» на месте исчезновения.

## Прочее

- **Пули:** при спавне невидимы первые 0.1 секунды, затем плавно проявляются.
- **Баланс верхней панели:** отображает текущий запас PXP.
- **Жизни:** показываются по центру верхней панели (`❤ N`).
- **Отключены масштабирование страницы, копирование и контекстное меню для защиты от жестов/горячих клавиш.**
- **Ноты дорожек:** Do, Re, Mi, Fa, Sol, La, Si (слева направо). Имена отображаются по центру экрана.
- **Звук исчезновения врага:** при уничтожении персонажа воспроизводится короткий синтезированный эффект.
- **Звук потери жизни:** при столкновении врага с пунктиром звучит отдельный «alarm»-эффект.
- **Фон:** стартует чёрным; каждые 10 секунд в течение минуты попеременно становится тёмно-зелёным, на отметке каждой минуты окрашивается в зелёный и затем цикл повторяется с чёрного.

---

За реализацию отвечает `vingrig` (Vingrig Studio). При необходимости расширения логики или изменения параметров — отредактируйте `script.js`, `styles.css` или `index.html` и обновите README.md.

